# coil_saturation_ammeter
Arduino based coil saturation ammeter
Created by Bing AI
Prompt :
create Arduino uno code which checks if magnetic core is in the state of saturation and how much of core capacity until saturation is left by measuring efficiency of dc-dc converter using the core .Assume coil saturation threshold is not known and goal is to measure it. Assume test coil running around core is used as part of boost dc-dc circuit driven by pwm pin 9 and output of dc-dc boost circuit is connected to analog input via voltage divider which also acts as load. Assume input of dc-dc converter is powered from supply voltage 5V and is connected in series with resistor of known value , so the current running to the coil and thus the dc-dc input creates voltage drop measured by analog input pin connected to the coil. Put the test code as a separate function. Then assume that there is additional , independent winding around the core made by defined amount of wire loops and defined cross section of the core, influencing it with unknown DC current. This winding can be bypassed by MOSFET transistor controlled by PWM output pin 10. highest duty cycle means highest bypass. Create another function which measures this unknown DC current by using core saturation testing function and varying bypass level to infer this current. Start from highest bypass level to determine rough current value and once coil saturation is detected use the saturation threshold test function output to increase measurement precision. Use 16bit PWM for higher precision. use Arduino uno 16bit PWM functions and full 16bit PWM range.

